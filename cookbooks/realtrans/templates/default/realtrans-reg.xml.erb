<?xml version='1.0' encoding='utf-8'?>
<Context>
  <Resource name="jdbc/mysql"
            auth="Container"
            type="javax.sql.DataSource"
            driverClassName="com.mysql.jdbc.Driver"
            url="jdbc:mysql://<%= @mysqldb_server %>:<%= @mysqldb_port %>/<%= @mysqldb_name %>?autoReconnect=true"
            username="<%= @mysqldb_user %>" password="<%= @mysqldb_pass %>"
            maxActive="<%= @db_max_active %>" 
            minIdle="0"
            maxIdle="<%= @db_max_idle %>"
            maxWait="<%= @db_max_wait %>"
            timeBetweenEvictionRunsMillis="<%= @db_time_evict %>"
            removeAbandoned="true"
            removeAbandonedTimeout="600"
            validationQuery= "SELECT 1"
            validationQueryTimeout="<%= @db_validation_query_timeout %>"
            testOnBorrow="true"
            testWhileIdle="false"
            initialSize="<%= @db_init_size %>"/>
</Context>
