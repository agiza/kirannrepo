ProxyRequests             Off
ProxyPreserveHost         On

<Proxy balancer://realtrans-cen-<%= @environ %>>
    Order allow,deny
    Allow from 10.
    Allow from 184.72.127.192
    Allow from 65.214.21.1/24
    Allow from 111.93.137.1/26
    Allow from 127.0.0.0/255.0.0.0 ::1/128
    <% @vhostCenWorkers.each do |a| %>
    BalancerMember http://<%= "#{a}" %>:8080 route=<%= "#{a}" %>
    <% end %>
    ProxySet stickysession=JSESSIONID
</Proxy>

<Proxy balancer://realtrans-ven-<%= @environ %>>
    Order allow,deny
    Allow from 10.
    Allow from 184.72.127.192
    Allow from 65.214.21.1/24
    Allow from 111.93.137.1/26
    Allow from 127.0.0.0/255.0.0.0 ::1/128
    <% @vhostVenWorkers.each do |a| %>
    BalancerMember http://<%= "#{a}" %>:8080 route=<%= "#{a}" %>
    <% end %>
    ProxySet stickysession=JSESSIONID
</Proxy>

<Location /realtrans-rp>
<LimitExcept POST GET>
  Order allow,deny
  Deny from all
</LimitExcept>

ProxyPass               balancer://realtrans-cen-<%= @environ %>/realtrans-rp stickysession=JSESSIONID|jsessionid
</Location>

<Location /realtrans-fp>
<LimitExcept POST GET>
  Order allow,deny
  Deny from all
</LimitExcept>

ProxyPass               balancer://realtrans-cen-<%= @environ %>/realtrans-fp stickysession=JSESSIONID|jsessionid
</Location>

<Location /realtrans-reg>
<LimitExcept POST GET>
  Order allow,deny
  Deny from all
</LimitExcept>

ProxyPass               balancer://realtrans-ven-<%= @environ %>/realtrans-fp stickysession=JSESSIONID|jsessionid
</Location>

<Location /realtrans-vp>
<LimitExcept POST GET>
  Order allow,deny
  Deny from all
</LimitExcept>

ProxyPass               balancer://realtrans-ven-<%= @environ %>/realtrans-fp stickysession=JSESSIONID|jsessionid
</Location>


